(function(e){function d(l,a){a&&l.append(a.jquery?a.clone():a)}function s(l,a,r){var u=a.clone(r.formValues);r.formValues&&b(a,u,"select, textarea"),r.removeScripts&&u.find("script").remove(),r.printContainer?u.appendTo(l):u.each(function(){e(this).children().appendTo(l)})}function b(l,a,r){var u=l.find(r);a.find(r).each(function(h,T){e(T).val(u.eq(h).val())})}var t;e.fn.printThis=function(l){t=e.extend({},e.fn.printThis.defaults,l);var a=this instanceof jQuery?this:e(this),r="printThis-"+new Date().getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var u='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',h=document.createElement("iframe");h.name="printIframe",h.id=r,h.className="MSIE",document.body.appendChild(h),h.src=u}else{var T=e("<iframe id='"+r+"' name='printIframe' />");T.appendTo("body")}var c=e("#"+r);t.debug||c.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),typeof t.beforePrint=="function"&&t.beforePrint(),setTimeout(function(){function P(f,o){var n,m;n=f.get(0),n=n.contentWindow||n.contentDocument||n,m=n.document||n.contentDocument||n,m.open(),m.write(o),m.close()}t.doctypeString&&P(c,t.doctypeString);var v=c.contents(),y=v.find("head"),p=v.find("body"),x=e("base"),g;t.base===!0&&x.length>0?g=x.attr("href"):typeof t.base=="string"?g=t.base:g=document.location.protocol+"//"+document.location.host,y.append('<base href="'+g+'">'),t.importCSS&&e("link[rel=stylesheet]").each(function(){var f=e(this).attr("href");if(f){var o=e(this).attr("media")||"all";y.append("<link type='text/css' rel='stylesheet' href='"+f+"' media='"+o+"'>")}}),t.importStyle&&e("style").each(function(){y.append(this.outerHTML)}),t.pageTitle&&y.append("<title>"+t.pageTitle+"</title>"),t.loadCSS&&(e.isArray(t.loadCSS)?jQuery.each(t.loadCSS,function(f,o){y.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):y.append("<link type='text/css' rel='stylesheet' href='"+t.loadCSS+"'>"));var w=e("html")[0];v.find("html").prop("style",w.style.cssText);var i=t.copyTagClasses;if(i&&(i=i===!0?"bh":i,i.indexOf("b")!==-1&&p.addClass(e("body")[0].className),i.indexOf("h")!==-1&&v.find("html").addClass(w.className)),i=t.copyTagStyles,i&&(i=i===!0?"bh":i,i.indexOf("b")!==-1&&p.attr("style",e("body")[0].style.cssText),i.indexOf("h")!==-1&&v.find("html").attr("style",w.style.cssText)),d(p,t.header),t.canvas){var E=0;a.find("canvas").addBack("canvas").each(function(){e(this).attr("data-printthis",E++)})}if(s(p,a,t),t.canvas&&p.find("canvas").each(function(){var f=e(this).data("printthis"),o=e('[data-printthis="'+f+'"]');this.getContext("2d").drawImage(o[0],0,0),e.isFunction(e.fn.removeAttr)?o.removeAttr("data-printthis"):e.each(o,function(n,m){m.removeAttribute("data-printthis")})}),t.removeInline){var C=t.removeInlineSelector||"*";e.isFunction(e.removeAttr)?p.find(C).removeAttr("style"):p.find(C).attr("style","")}d(p,t.footer);function A(f,o){var n=f.get(0);n=n.contentWindow||n.contentDocument||n,typeof o=="function"&&("matchMedia"in n?n.matchMedia("print").addListener(function(m){m.matches&&o()}):n.onbeforeprint=o)}A(c,t.beforePrintEvent),setTimeout(function(){c.hasClass("MSIE")?(window.frames.printIframe.focus(),y.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?c[0].contentWindow.document.execCommand("print",!1,null):(c[0].contentWindow.focus(),c[0].contentWindow.print()),t.debug||setTimeout(function(){c.remove()},1e3),typeof t.afterPrint=="function"&&t.afterPrint()},t.printDelay)},333)},e.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!0,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:1e3,header:null,footer:null,base:!1,formValues:!0,canvas:!0,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!0,copyTagStyles:!0,beforePrintEvent:null,beforePrint:null,afterPrint:null}})(jQuery);const S=document.getElementById("assinatura"),D=new SignaturePad(S);let k=document.querySelectorAll("#documento input");function I(e){let d=Array();return e.forEach(s=>{s.value.trim()===""&&d.push(s)}),d}(function(e){e("#criarDocumento").on("click",function(){let d=I(k);d.length>0||D.isEmpty()?(d.forEach(s=>{s.focus()}),Swal.fire({title:"Preencha os dados do documento!",icon:"error",confirmButtonText:"Ok"})):e("#documento").printThis({afterPrint:()=>{const s=window.location.pathname.split("/"),b=s[s.length-1];window.location.href="/documentos/upload/"+b}})}),e("#assinatura").on("dblclick",()=>{S.getContext("2d").clearRect(0,0,S.width,S.height)})})(jQuery);
